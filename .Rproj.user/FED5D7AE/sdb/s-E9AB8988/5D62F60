{
    "collab_server" : "",
    "contents" : "---\ntitle: \"Homework 03\"\nauthor: \"Hafsa Dawood\"\ndate: \"October 16, 2017\"\noutput: pdf_document\n---\n# Case 01\n\n## 1. The given dataset is not tidy. Specify the reason, and make it tidy\n\nThe given data set is not tidy because the probabilities of the player being a superstar, starter, role_player and bust are placed in one single column\n\n```{r}\n# Load the necessary libaries\nlibrary(dplyr)\nlibrary(ggplot2)\nlibrary(tidyr)\nlibrary(stringr)\n\n\n# Read the .csv file\nnba_draft = read.csv(\"nba_draft.csv\")\n\n# Separate probabilities column into different categories\nnba_draft = nba_draft %>%\n             separate(probabilities, c (\"superstar\", \"starter\", \"role_player\", \"bust\"), sep = \",\")\n\n\n# Convert the probabilities into numeric\nnba_draft$superstar = as.numeric(nba_draft$superstar)\nnba_draft$starter = as.numeric(nba_draft$starter)\nnba_draft$role_player = as.numeric(nba_draft$role_player)\nnba_draft$bust = as.numeric(nba_draft$bust)\n\n```\n\n\n## 2. What was the name of the Center (position of \"C\") with the highest probability of becoming a superstar?\n\n```{r}\n\n# Filter by position \"C\", arrange in descending order of prob. of superstar and choose first row\nnba_draft %>%\n  filter(position == \"C\") %>%\n  arrange(desc(superstar)) %>%\n  select(player, position, superstar) %>%\n  head(1)\n```\nThe player \"Joel Embiid\" has the highest probability (0.1478667) of becoming a superstar\n\n\n## 3. Create an EXACT copy of the following graph of the average probability of becoming a superstar by\nposition\n\n```{r}\n\n# Group by position and obtain mean of prob. of superstar\n# In ggplot let x = position, y = avg and reorder postion based on the decreasing order of avg\n# give the appropriate title and lables to the plot\n\nnba_draft %>%\n  group_by(position) %>%\n  summarise(avg = mean(superstar)) %>%\n  ggplot(aes(x = reorder(position,desc(avg)), y = avg)) +\n  geom_bar(stat = \"identity\") +\n  ggtitle(\"Probability of becoming a superstar by position\") +\n  xlab(\"Position\") +\n  ylab(\"Probability\")\n  \n\n```\n\n## 4. Create an EXACT copy of the following graph of the number of \"low risk\" players drafted each year.\nDefine \"low risk\" as players with less than .4 probability of being a bust.\n\n\n```{r}\n\n# Filter for bust less than 0.4, group by the draft_year and obtain count using summarize\n# Plot a line graph with x = draft_year and y = count of players\n# Give the appropriate title and labels for the plot\n\nnba_draft %>%\n  filter(bust < 0.4) %>%\n  group_by(draft_year) %>%\n  summarize(count = n()) %>%\n  ggplot(aes(x = draft_year, y=count))+\n  geom_line() +\n  ggtitle(\"Number of low risk players per year\") +\n  xlab(\"Year\") +\n  ylab(\"Count\")\n\n```\n\n# Case 02\n\n## 5. Is the data tidy? If not, specify why, and tidy it up.\n\nThe data is not tidy because:\n (i) the gene name and the biological process are present in the same column \n (ii) given the structure of the variable names G0.05 to U0.3 these are likely values and not variables. \n\n```{r}\n\n# Read the .csv file\n\ngene_expression = read.csv(\"gene_expression.csv\")\n\n# Gather all the columns from G0.05 to U0.3\n# Separate the column \"Name\" into gene name (\"name\") and biological process (\"bp\")\n# Separate the gathered columns into \"nutrient\" and \"growth_rate\"\n\ngene_expression = gene_expression %>%\n                    gather(G0.05:U0.3, key =\"key\", value = \"expression\", na.rm = T) %>%\n                    separate(Name, c(\"name\", \"bp\"), sep = \":\") %>%\n                    separate(key, c (\"nutrient\", \"growth_rate\"), sep = 1)\n\n# Remove leading and trailing spaces from \"name\" and \"bp\"\ngene_expression$name = str_trim(gene_expression$name)\ngene_expression$bp = str_trim(gene_expression$bp)\n\n# Convert the growth rate to numeric\ngene_expression$growth_rate = as.numeric(gene_expression$growth_rate)\n\n```\n\n## 6. Create the an copy of the following graph:\n\n```{r}\n# Filter for gene name = \"LEU1\"\n# group by nutrient and growth rate and find the mean\n# Plot a line graph, with x = growth rate and y = avg of gene expression\n# Different categories of nutrients are represented by different colors\n# Give the appropriate title and lables to the graph\n\ngene_expression %>%\n  filter(name == \"LEU1\") %>%\n  group_by(nutrient,growth_rate) %>%\n  summarize(avg = mean(expression)) %>%\n  ggplot(aes(x = growth_rate, y = avg, color = nutrient))+\n  geom_line() +\n  ggtitle(\"LEU1 Gene Expression\") +\n  xlab(\"rate\") +\n  ylab(\"expression\")\n\n```\n\n\n\n",
    "created" : 1508680712683.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "2261725103",
    "id" : "5D62F60",
    "lastKnownWriteTime" : 1508681173,
    "last_content_update" : 1508681173899,
    "path" : "D:/USC Classes/DSO 545/Workspace/DSO545/Homework 03 - Solution.Rmd",
    "project_path" : "Homework 03 - Solution.Rmd",
    "properties" : {
    },
    "relative_order" : 1,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_markdown"
}